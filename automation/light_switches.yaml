###########################################
# light_switches
#    Contains all automations concerning
#    physical light switches
###########################################

#############
## Kitchen ##
#############
## Toggle all kitchen lights
  - alias: 'Toggle kitchen lights'
    initial_state: 'on'
    trigger:
      platform: event
      event_type: deconz_event
      event_data:
        id: switch_koket
        event: 1002
    action:
      service: light.toggle
      entity_id: light.koket

## Dim all kitchen lights
  # Brighter
  - alias: 'Increase brightness of kitchen lights'
    initial_state: 'on'
    trigger:
      platform: event
      event_type: deconz_event
      event_data:
        id: switch_koket
        event: 2002
    action:
      - service: light.turn_on
        data_template:
          entity_id: light.koket
          brightness: >
            {% set bri = states.light.koket.attributes.brightness | int %}
            {{ [bri+30, 249] | min }}

  # Darker
  - alias: 'Decrease brightness of kitchen lights'
    initial_state: 'on'
    trigger:
      platform: event
      event_type: deconz_event
      event_data:
        id: switch_koket
        event: 3002
    action:
      - service: light.turn_on
        data_template:
          entity_id: light.koket
          brightness: >
            {% set bri = states.light.koket.attributes.brightness | int %}
            {{ [bri-30, 0] | max }}

## Change temp for all kitchen lights
